<div class="modal-header">
  <h5 class='col-12 modal-title text-center'>
    {{modalHeader}}
    <button type='button' class='close' (click)="close()" aria-label='Close'>
      <span aria-hidden='true'>&times;</span>
    </button>
  </h5>
</div>



      
<div class="modal-body">



  <form [formGroup]="service.formModel" (submit)="onSubmit()">

    <div class="form-group row">
    <label for="modelYear" class="col-sm-3 col-form-label">Rocznik <span class="required-field">*</span></label>
    <div class="col-sm-8">
        <div class="row">
      <span id="modelYear">
         <select class="form-control"   formControlName="modelYear" (blur)="validatorMessage()" id="year"  class="selectpicker" data-live-search="true">
        <option value="" selected disabled hidden>Wybierz rocznik pojadu</option>
        <option *ngFor="let item of year">
          {{item}}
        </option>
      </select>
    </span> 
      <input type="text" class="form-control d-none col-sm-11" id="modelYear" formControlName="modelYear" (blur)="validatorMessage()">
      <span class="close-select"  ngbTooltip="Dodaj inny rocznik" (click)="showInput('#modelYear')">x
      </span>
    </div>
      <span class="text-danger" *ngIf="service.formErrors.modelYear">
        {{service.formErrors.modelYear}}
      </span>
    </div>
  </div>

  <div class="form-group row">
      <label for="brand" class="col-sm-3 col-form-label">Marka <span class="required-field">*</span></label>
      <div class="col-sm-8">
          <div class="row">
        <span id="brand">
           <select class="form-control"  id="select-brand" formControlName="brand" (blur)="validatorMessage()"  class="selectpicker" data-live-search="true" (change)="getModelForBrand($event.target.value)">
          <option value="" selected disabled hidden>Wybierz markę pojazdu</option>

          <option  *ngFor="let brand of brands" [value]="brand.name"  >
            {{brand.name}}
          </option>
        </select>
      </span> 
        <input type="text" class="form-control d-none col-sm-11" id="brand" formControlName="brand" (blur)="validatorMessage()">
        <span class="close-select"  ngbTooltip="Dodaj inną markę" (click)="showInput('#modelYear')">x
        </span>
      </div>
        <span class="text-danger" *ngIf="service.formErrors.brand">
          {{service.formErrors.brand}}
        </span>
      </div>
    </div>

    <div class="form-group row">
        <label for="model" class="col-sm-3 col-form-label">Model <span class="required-field">*</span></label>
        <div class="col-sm-8">
            <div class="row">
          <span id="model">
          
             <select class="form-control" id="model-type"  formControlName="model" class="selectpicker" data-live-search="true" >
            <option value="" selected disabled hidden>Wybierz model pojazdu</option>
            <option  *ngFor="let item of models" [value]="item.name">
              {{item.name}}
            </option>
          </select>
        </span> 
          <input type="text" class="form-control d-none col-sm-11" id="model" formControlName="model" (blur)="validatorMessage()">
          <span class="close-select"  ngbTooltip="Dodaj inny model" (click)="showInput('#model')">x
          </span>
        </div>
          <span class="text-danger" *ngIf="service.formErrors.model">
            {{service.formErrors.model}}
          </span>
        </div>
      </div>
   

  <div class="form-group row">
      <label for="registration" class="col-sm-3 col-form-label">Rejestracja <span class="required-field">*</span></label>
      <div class="col-sm-9">
        <input type="text" class="form-control" id="registration" formControlName="registration" (blur)="validatorMessage()">
        <span class="text-danger" *ngIf="service.formErrors.registration">
          {{service.formErrors.registration}}
        </span>
      </div>
    </div>
  
       <!--<div class="form-group row">
      <label for="typeOfClient" class="col-sm-3 col-form-label">Typ klienta <span class="required-field">*</span></label>
      <div class="col-sm-9">
        <select class="form-control" id="typeOfClient" data-toggle="collapse" formControlName="typeOfCustomerID" (change)="service.checkRequiredInstitutionName($event.target.value)" (blur)="validatorMessage()">
          <option value="" selected disabled hidden>Wybierz typ klienta</option>
          <option *ngFor="let type of typesOfCustomer" [value]="type.id">
            {{type.typeName}}
          </option>

        </select>
        <span class="text-danger" *ngIf="service.formErrors.typeOfCustomerID">
          {{service.formErrors.typeOfClient}}
        </span>
      </div>
    </div>
  

    <div class="form-group row" id="collapseInstitutionName" style="display:none">
      <label for="institution" class="col-sm-3 col-form-label">Nazwa instytucji <span class="required-field">*</span></label>
      <div class="col-sm-9">
        <input type="text" class="form-control" id="institution" formControlName="companyName" [ngClass]="{'invalid':service.check && !service.formModel.get('companyName').dirty}" (blur)="validatorMessage()">
        <span class="text-danger"  *ngIf="service.check && !service.formModel.get('companyName').dirty">
          Nazwa instytucji jest wymagana
        </span>      
      </div>
    </div>

    <div class="form-group row">
      <label for="name" class="col-sm-3 col-form-label">Imię <span class="required-field">*</span></label>
      <div class="col-sm-9">
        <input type="text " class="form-control" id="name" formControlName="name"  (blur)="validatorMessage()">
        <span class="text-danger" *ngIf="service.formErrors.name">
          {{service.formErrors.name}}
        </span>
      </div>
    </div>

    <div class="form-group row">
      <label for="surname" class="col-sm-3 col-form-label">Nazwisko <span class="required-field">*</span></label>
      <div class="col-sm-9">
        <input type="text" class="form-control" id="surname" formControlName="surname" (blur)="validatorMessage()">
        <span class="text-danger" *ngIf="service.formErrors.surname">
          {{service.formErrors.surname}}
        </span>
      </div>

    </div>

    <div formGroupName="adress">
      <div class="form-group row">
        <label for="province" class="col-sm-3 col-form-label">Województwo</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" id="province" formControlName="province" (blur)="validatorMessage()">
          <span class="text-danger" *ngIf="service.formErrors.province">
            {{service.formErrors.province}}
          </span>
        </div>
      </div>

      <div class="form-group row">
        <label for="city" class="col-sm-3 col-form-label">Miasto</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" id="city" formControlName="city" (blur)="validatorMessage()">
          <span class="text-danger" *ngIf="service.formErrors.city">
            {{service.formErrors.city}}
          </span>
        </div>
      </div>

      <div class="form-group row">
        <label for="zip-code" class="col-sm-3 col-form-label">Kod pocztowy</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" id="zip-code" formControlName="zipCode" (blur)="validatorMessage()">
          <span class="text-danger" *ngIf="service.formErrors.zipCode">
            {{service.formErrors.zipCode}}
          </span>
        </div>
      </div>

    

      <div class="form-group row">
        <label for="number-of-building" class="col-sm-3 col-form-label">Nr budynku</label>
        <div class="col-sm-3">
          <input type="text" class="form-control" id="number-of-building" formControlName="numberOfBuilding" (blur)="validatorMessage()">
          <span class="text-danger" *ngIf="service.formErrors.numberOfBuilding">
            {{service.formErrors.numberOfBuilding}}
          </span>
        </div>
        <label for="number-of-apartment" class="col-sm-1 col-form-label">/</label>
        <div class="col-sm-3">
          <input type="text" class="form-control" id="number-of-apartment" formControlName="numberOfApartment" (blur)="validatorMessage()">
          <span class="text-danger" *ngIf="service.formErrors.numberOfApartment">
            {{service.formErrors.numberOfApartment}}
          </span>
        </div>
      </div>
    </div>

    <div formGroupName="contact">
      <div class="form-group row">
        <label for="email" class="col-sm-3 col-form-label">Email</label>
        <div class="col-sm-9">
          <input type="email" class="form-control" id="email" formControlName="email" (blur)="validatorMessage()">
          <span class="text-danger" *ngIf="service.formErrors.email">
            {{service.formErrors.email}}
          </span>
        </div>
      </div>

      <div class="form-group row">
        <label for="phoneNumber" class="col-sm-3 col-form-label">Telefon <span class="required-field">*</span></label>
        <div class="col-sm-9">
          <input type="text" class="form-control" id="phoneNumber" formControlName="phone" (blur)="validatorMessage()">
          <span class="text-danger" *ngIf="service.formErrors.phone">
            {{service.formErrors.phone}}
          </span>
        </div>
      </div>
    </div>-->


    <div class="modal-footer button-modal-footer justify-content-center">
      <button type="button" class="p-2 btn btn-outline-dark" style="width:20%" (click)="close()">Anuluj</button>
      <button type="button" class="p-2 btn btn-outline-success" style="width:22%" [disabled]="!service.formModel.valid"
        type="submit">
        <span class="spinner-border spinner-border-button" role="status" aria-hidden="true" *ngIf="showSpinner"></span>
        Dodaj
      </button>
    </div>
  </form>
</div>